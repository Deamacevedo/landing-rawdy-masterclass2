---
// src/pages/masterclass.astro
import Layout from "../layouts/Layout.astro";
import EmailForm from "../components/EmailForm.astro";
import { Image } from "astro:assets";
import Logo from "../assets/logo.png";
import Fotodoc from "../assets/fotodocc.png";

const pageTitle = "Masterclass Dr. Rawdy - 5 Razones para Crear Marca Personal";
const pageDescription =
  "Inscríbete gratis a nuestra masterclass y descubre cómo aumentar tus ingresos en un 300%, crear tu consultorio virtual y cambiar tu estilo de vida";
const pageKeywords =
  "masterclass, marca personal, redes sociales, Dr. Rawdy, consultorio virtual, ingresos médicos";
---

<Layout
  title={pageTitle}
  description={pageDescription}
  keywords={pageKeywords}
  ogImage="/og-masterclass.jpg"
>
  <main
    class="min-h-screen bg-gradient-to-br from-blue-900 via-blue-800 to-indigo-900 relative"
  >
    <!-- Background decorative elements -->
    <div class="absolute inset-0 bg-black/10"></div>
    <div class="absolute top-0 left-0 w-full h-full pointer-events-none">
      <div
        class="absolute top-20 left-10 w-32 h-32 bg-blue-400/10 rounded-full blur-xl"
      >
      </div>
      <div
        class="absolute bottom-20 right-10 w-40 h-40 bg-blue-500/10 rounded-full blur-xl"
      >
      </div>
      <div
        class="absolute top-1/2 left-1/4 w-24 h-24 bg-indigo-400/10 rounded-full blur-lg"
      >
      </div>
    </div>

    <!-- Content container -->
    <div
      class="relative z-10 container mx-auto px-20 py-8 lg:py-0 lg:h-screen lg:flex lg:items-center" 
    >
      <div class="grid lg:grid-cols-2 gap-8 lg:gap-12 items-center w-full">
        <!-- Left content -->
        <div class="text-white space-y-6 lg:space-y-8 order-2 lg:order-1">
			
          <div class="space-y-3">
            <div
              class="inline-flex items-center px-4 py-2 bg-gradient-to-r from-cyan-500/20 to-blue-500/20 backdrop-blur-sm rounded-full border border-cyan-400/30"
            >
              <span class="text-sm font-medium text-cyan-300"
                >Masterclass Gratuita</span
              >
            </div>
            <div
              class="inline-flex items-center px-4 py-2 bg-gradient-to-r from-amber-500/20 to-orange-500/20 backdrop-blur-sm rounded-full border border-amber-400/30 ml-2"
            >
              <span class="text-sm font-medium text-amber-300"
                >Miércoles 23 de Julio 7:00PM</span
              >
            </div>
          </div>

          <div class="space-y-4">
            <h1
              class="text-4xl md:text-5xl lg:text-6xl font-bold leading-tight"
            >
              <span
                class="text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-400"
              >
                5 Razones
              </span>
              <br />
              para Crear Marca Personal
            </h1>
            <p class="text-xl md:text-2xl text-blue-200 font-medium">
              y Tener Redes Sociales
            </p>
          </div>

          <!-- Benefits list -->
          <div class="space-y-4">
            <div class="flex items-start space-x-3">
              <div
                class="flex-shrink-0 w-8 h-8 bg-gradient-to-r from-blue-400 to-blue-500 rounded-full flex items-center justify-center"
              >
                <span class="text-white font-bold text-sm">1</span>
              </div>
              <p class="text-lg text-gray-200">
                <strong class="text-blue-300"
                  >Aumenta tus ingresos en un 300%</strong
                >
              </p>
            </div>

            <div class="flex items-start space-x-3">
              <div
                class="flex-shrink-0 w-8 h-8 bg-gradient-to-r from-blue-500 to-blue-600 rounded-full flex items-center justify-center"
              >
                <span class="text-white font-bold text-sm">2</span>
              </div>
              <p class="text-lg text-gray-200">
                <strong class="text-blue-300"
                  >Te contratarán grandes empresas</strong
                >
              </p>
            </div>

            <div class="flex items-start space-x-3">
              <div
                class="flex-shrink-0 w-8 h-8 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-full flex items-center justify-center"
              >
                <span class="text-white font-bold text-sm">3</span>
              </div>
              <p class="text-lg text-gray-200">
                <strong class="text-blue-300"
                  >Crea tu consultorio virtual</strong
                >
              </p>
            </div>

            <div class="flex items-start space-x-3">
              <div
                class="flex-shrink-0 w-8 h-8 bg-gradient-to-r from-indigo-500 to-indigo-600 rounded-full flex items-center justify-center"
              >
                <span class="text-white font-bold text-sm">4</span>
              </div>
              <p class="text-lg text-gray-200">
                <strong class="text-blue-300">Cambia tu estilo de vida</strong>
              </p>
            </div>

            <div class="flex items-start space-x-3">
              <div
                class="flex-shrink-0 w-8 h-8 bg-gradient-to-r from-indigo-600 to-blue-700 rounded-full flex items-center justify-center"
              >
                <span class="text-white font-bold text-sm">5</span>
              </div>
              <p class="text-lg text-gray-200">
                <strong class="text-blue-300"
                  >Crea marca personal en canales digitales</strong
                >
              </p>
            </div>
          </div>

          <!-- Doctor info with image -->
          <div
            class="flex items-center space-x-4 bg-white/10 backdrop-blur-sm rounded-lg p-4 border border-white/20"
          >
            <div
              class="relative w-16 h-16 rounded-full overflow-hidden bg-gradient-to-r from-blue-300 to-blue-600 flex items-center justify-center"
            >
              <!-- Replace with actual doctor image -->
              <Image
                src={Logo}
                alt="Dr. Rawdy Reales"
                class="w-16 h-full object-contain"
              />
            </div>
            <div>
              <h3 class="text-lg font-bold text-white">Dr. Rawdy Reales</h3>
              <p class="text-blue-200">Médico Especialista</p>
            </div>
          </div>
        </div>

        <!-- Right content - Doctor Image and Form -->
        <div class="order-1 lg:order-2">
          <!-- Doctor Image Section -->
          <div class="flex justify-center lg:justify-end">
            <div class="relative -mb-6 z-20 transform xl:-translate-x-22 2xl:transform 2xl:-translate-x-26">
              <div
                class="w-48 h-48 md:w-56 md:h-56 lg:w-72 lg:h-auto overflow-hidden"
              >
                <!-- Replace with actual doctor image -->
                <Image
                  src={Fotodoc}
                  alt="Dr. Rawdy Reales - Especialista en Marca Personal"
                  class="w-full h-full object-contain"
                />
              </div>
            </div>
          </div>

          <!-- Form -->
          <div class="flex justify-center lg:justify-end">
            <div class="w-full max-w-md">
              <EmailForm />
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Bottom CTA for mobile -->
    <div
      id="mobile-cta"
      class="lg:hidden fixed bottom-0 left-0 right-0 bg-gradient-to-r from-cyan-500 to-blue-600 p-4 z-20 border-t border-white/20 transform transition-transform duration-300"
    >
      <div class="text-center">
        <p class="text-white font-medium mb-2">
          ¡No te pierdas esta masterclass!
        </p>
        <button
          onclick="document.getElementById('email-form').scrollIntoView({behavior: 'smooth'})"
          class="bg-white text-blue-600 px-6 py-2 rounded-full font-bold hover:bg-gray-100 transition-colors"
        >
          Inscríbete Gratis
        </button>
      </div>
    </div>

    <!-- Spacer to prevent content overlap -->
    <div class="lg:hidden h-24"></div>
  </main>
</Layout>

<script is:inline>
  // Add smooth scrolling and form interaction
  document.addEventListener("DOMContentLoaded", function () {
    // Auto-focus on form when page loads (desktop only)
    if (window.innerWidth > 1024) {
      const emailInput = document.querySelector('input[type="email"]');
      if (emailInput) {
        setTimeout(() => emailInput.focus(), 1000);
      }
    }

    // Smart CTA mobile behavior
    const mobileCTA = document.getElementById('mobile-cta');
    if (mobileCTA && window.innerWidth <= 1024) {
      let lastScrollTop = 0;
      let isAtBottom = false;

      window.addEventListener('scroll', function() {
        const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
        const windowHeight = window.innerHeight;
        const documentHeight = document.documentElement.scrollHeight;
        
        // Check if we're at the bottom of the page
        const scrolledToBottom = (scrollTop + windowHeight) >= (documentHeight - 100);
        
        if (scrolledToBottom && !isAtBottom) {
          // Hide CTA when at bottom
          mobileCTA.style.transform = 'translateY(100%)';
          isAtBottom = true;
        } else if (!scrolledToBottom && isAtBottom) {
          // Show CTA when scrolling up from bottom
          mobileCTA.style.transform = 'translateY(0)';
          isAtBottom = false;
        } else if (!scrolledToBottom) {
          // Normal scroll behavior
          if (scrollTop > lastScrollTop && scrollTop > 100) {
            // Scrolling down - hide CTA
            mobileCTA.style.transform = 'translateY(100%)';
          } else {
            // Scrolling up - show CTA
            mobileCTA.style.transform = 'translateY(0)';
          }
        }
        
        lastScrollTop = scrollTop <= 0 ? 0 : scrollTop;
      });
    }
  });
</script>

<style>
  /* Responsive styles for tablets and MacBooks */
  
  /* iPad Pro 12.9" and similar large tablets */
  @media (min-width: 1025px) and (max-width: 1366px) {
    .container {
      max-width: 1200px;
      padding-left: 2rem;
      padding-right: 2rem;
    }
    
    main .grid {
      gap: 2rem;
    }
    
    /* Adjust font sizes for tablets */
    h1 {
      font-size: 3rem !important;
      line-height: 1.1;
    }
    
    .text-xl {
      font-size: 1.125rem;
    }
    
    .text-lg {
      font-size: 1rem;
    }
    
    /* Doctor image adjustments */
    .order-1 img {
      width: 16rem;
      height: auto;
    }
    
    /* Form container */
    #email-form {
      max-width: 380px;
    }
  }
  
  /* iPad Air and standard tablets */
  @media (min-width: 768px) and (max-width: 1024px) {
    .container {
      padding-left: 1.5rem;
      padding-right: 1.5rem;
    }
    
    main .grid {
      gap: 1.5rem;
      grid-template-columns: 1fr;
    }
    
    /* Stack content vertically on tablets */
    .order-1, .order-2 {
      order: initial;
    }
    
    /* Center content */
    .text-white {
      text-align: center;
    }
    
    h1 {
      font-size: 2.5rem !important;
    }
    
    /* Adjust spacing */
    .space-y-6 > * + * {
      margin-top: 1rem;
    }
    
    .space-y-8 > * + * {
      margin-top: 1.5rem;
    }
    
    /* Doctor image for tablets */
    .order-1 img {
      width: 14rem;
      height: auto;
    }
    
    /* Benefits list adjustments */
    .space-y-4 > * + * {
      margin-top: 0.75rem;
    }
  }
  
  /* MacBook Air 13" */
  @media (min-width: 1367px) and (max-width: 1440px) {
    .container {
      max-width: 1280px;
      padding-left: 3rem;
      padding-right: 3rem;
    }
    
    h1 {
      font-size: 3.5rem !important;
    }
    
    .text-xl {
      font-size: 1.25rem;
    }
    
    /* Doctor image for MacBook Air */
    .order-1 img {
      width: 18rem;
      height: auto;
    }
    
    /* Form adjustments */
    #email-form {
      max-width: 420px;
    }
  }
  
  /* MacBook Pro 14" and 16" */
  @media (min-width: 1441px) and (max-width: 1728px) {
    .container {
      max-width: 1400px;
      padding-left: 4rem;
      padding-right: 4rem;
    }
    
    main .grid {
      gap: 3rem;
    }
    
    h1 {
      font-size: 4rem !important;
    }
    
    .text-xl {
      font-size: 1.375rem;
    }
    
    .text-lg {
      font-size: 1.125rem;
    }
    
    /* Doctor image for MacBook Pro */
    .order-1 img {
      width: 20rem;
      height: auto;
    }
    
    /* Enhanced spacing for larger screens */
    .space-y-6 > * + * {
      margin-top: 2rem;
    }
    
    .space-y-8 > * + * {
      margin-top: 2.5rem;
    }
    
    /* Form enhancements */
    #email-form {
      max-width: 450px;
      padding: 2.5rem;
    }
  }
  
  /* Ultra-wide and large desktop screens */
  @media (min-width: 1729px) {
    .container {
      max-width: 1600px;
      padding-left: 5rem;
      padding-right: 5rem;
    }
    
    main .grid {
      gap: 4rem;
    }
    
    h1 {
      font-size: 4.5rem !important;
    }
    
    /* Doctor image for large screens */
    .order-1 img {
      width: 22rem;
      height: auto;
    }
    
    /* Form for large screens */
    #email-form {
      max-width: 480px;
      padding: 3rem;
    }
    
    /* Enhanced benefit list spacing */
    .space-y-4 > * + * {
      margin-top: 1.25rem;
    }
  }
  
  /* Mobile CTA specific styles */
  #mobile-cta {
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
  }
  
  /* Smooth transitions for all responsive changes */
  .container, 
  main .grid, 
  h1, 
  .text-xl, 
  .text-lg,
  #email-form {
    transition: all 0.3s ease-in-out;
  }
  
  /* Ensure proper spacing on all screen sizes */
  .space-y-3 > * + *,
  .space-y-4 > * + *,
  .space-y-6 > * + *,
  .space-y-8 > * + * {
    transition: margin-top 0.3s ease-in-out;
  }
</style>